<!DOCTYPE html>
<html>
  <head>
    <title>Redirecting to WhatsApp...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
      // Wait until DOM is fully loaded
      document.addEventListener("DOMContentLoaded", function () {
        // Extract the 'entry' parameter from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const entryNumber = urlParams.get('entry');

        if (entryNumber) {
          // Generate the dynamic WhatsApp link with the entry number
          const whatsAppLink = `https://wa.me/0164644696?text=Hello! Your entry number is: ${entryNumber}`;

          try {
            // Automatically redirect to WhatsApp in a new tab
            window.open(whatsAppLink, '_blank');

            // Dynamically update the fallback link
            const fallbackLink = document.getElementById("fallback-link");
            if (fallbackLink) {
              fallbackLink.href = whatsAppLink;
            }
          } catch (error) {
            console.error("Error while redirecting:", error);
          }
        } else {
          // Handle cases where the 'entry' parameter is missing
          document.body.innerHTML = '<p>Error: Entry number not found. Please try again.</p>';
        }
      });
    </script>
  </head>
  <body>
    <p>Redirecting to WhatsApp...</p>
    <p>If the new tab does not open, <a id="fallback-link" href="#" target="_blank">click here</a>.</p>
  </body>
</html>
